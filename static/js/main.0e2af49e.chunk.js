(this.webpackJsonpcafe=this.webpackJsonpcafe||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(34),s=a.n(r),i=(a(98),a(1)),l=a.n(i),j=a(5),o=a(12),d=a(138),b=a(126),u=a(91),O=a(127),h=a(128),f=a(136),x=a(125),p=a(3),m=function(e){var t=Object(c.useState)(0),a=Object(o.a)(t,2),n=a[0],r=a[1],s=e.value;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(f.a,{activeIndex:n,onSelect:function(e,t){r(e)},variant:e.darkM?"dark":null,children:Object.values(s).map((function(e){return Object(p.jsxs)(f.a.Item,{children:[Object(p.jsx)("img",{className:"d-block w-100",src:e.img,alt:"First slide"}),Object(p.jsx)(f.a.Caption,{children:Object(p.jsx)(d.a,{style:{backgroundColor:"#1c1c1cb5",color:"#ffffff"},children:Object(p.jsxs)(d.a.Body,{children:[Object(p.jsx)(d.a.Title,{children:e.name}),Object(p.jsx)(d.a.Text,{children:e.description}),Object(p.jsx)(x.a,{children:e.date})]})})})]})}))})})},g=function(e){var t=e.darkM,a=e.value;return Object(p.jsx)("div",{children:Object(p.jsxs)(u.a,{show:e.show,onHide:e.handleClose,placement:"end",style:{color:e.darkM?"#000000":"#ffffff",backgroundColor:e.darkM?"#ffffff":"#1a1e23"},children:[Object(p.jsx)(u.a.Header,{closeButton:!0,children:Object(p.jsx)(u.a.Title,{children:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"})}),Object(p.jsx)(u.a.Body,{children:Object(p.jsx)("h2",{children:a.name})}),Object(p.jsxs)(u.a.Body,{children:[a.phone?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(b.a,{variant:"primary",type:"tel",href:"tel:"+a.phone,children:[Object(p.jsx)(O.a,{})," ",a.phone," "]}),Object(p.jsx)(b.a,{className:"m-3",variant:"success",type:"tel",href:"https://wa.me/"+a.phone.replace(/[^0-9]/g,""),target:"_blank",children:Object(p.jsx)(h.a,{})})]}):null,a.address?Object(p.jsx)(b.a,{variant:t?"primary":"warning",href:"https://yandex.ru/maps/?text="+a.address,bg:"secondary",target:"_blank",children:a.address}):null]}),Object(p.jsx)(u.a.Body,{}),Object(p.jsxs)(u.a.Body,{children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u0440\u0435\u0434\u0438 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u043e\u0432 : ",a.ranking]}),Object(p.jsxs)(u.a.Body,{children:[Object(p.jsx)("div",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f:"}),Object(p.jsx)("div",{children:a.description||null})]}),Object(p.jsxs)(u.a.Body,{style:{height:"35%"},children:[Object(p.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f:"}),a.discounts?Object(p.jsx)(m,{darkM:t,value:a.discounts,writeNewState:e.writeNewState}):null]})]})})},v=a(135),w=a(133),k=function(e){var t=Object(c.useState)({}),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),j=l[0],d=l[1],u=n.a.createRef(),O=n.a.createRef(),h=n.a.createRef(),f=n.a.createRef();Object(c.useEffect)((function(){j&&(e.writeNewState(e.id,r),d(!1))}),[r]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(v.a,{show:e.showM,onHide:e.handleCloseM,children:[Object(p.jsx)(v.a.Header,{closeButton:!0,children:Object(p.jsx)(v.a.Title,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0410\u043a\u0446\u0438\u044e"})}),Object(p.jsx)(v.a.Body,{children:Object(p.jsxs)(w.a,{children:[Object(p.jsxs)(w.a.Group,{className:"mb-3",children:[Object(p.jsx)(w.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"}),Object(p.jsx)(w.a.Control,{ref:u,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"}),Object(p.jsx)(w.a.Label,{children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0430\u043a\u0446\u0438\u0438"}),Object(p.jsx)(w.a.Control,{ref:O,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"}),Object(p.jsx)(w.a.Label,{children:"\u0421\u0440\u043e\u043a\u0438 \u0430\u043a\u0446\u0438\u0438"}),Object(p.jsx)(w.a.Control,{ref:h,placeholder:"\u0421\u0440\u043e\u043a\u0438 \u0430\u043a\u0446\u0438\u0438"})]}),Object(p.jsxs)(w.a.Group,{className:"mb-3",children:[Object(p.jsx)(w.a.Label,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(p.jsx)(w.a.Control,{ref:f,as:"textarea",rows:3})]})]})}),Object(p.jsx)(v.a.Footer,{children:Object(p.jsx)(b.a,{onClick:function(){e.handleCloseM(),function(){var e={name:u.current.value,img:O.current.value,date:h.current.value,description:f.current.value};s(e)}(),d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})},y=function(e){var t,a=Object(c.useState)(!1),n=Object(o.a)(a,2),r=(n[0],n[1],Object(c.useState)(!1)),s=Object(o.a)(r,2),i=(s[0],s[1],e.darkM),l=Object(c.useState)(!1),j=Object(o.a)(l,2),u=j[0],O=j[1],h=Object(c.useState)(!1),f=Object(o.a)(h,2),x=f[0],m=f[1],v=function(){return m(!0)},w=function(){return O(!0)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(d.a,{style:{width:"19rem",margin:"auto"},bg:i?"light":"dark",text:i?"dark":"white",children:[Object(p.jsx)(d.a.Img,{variant:"top",src:e.value.photo?e.value.photo.images.medium.url:"https://\u0441\u0435\u0440\u0435\u0431\u0440\u043e.\u0440\u0444/img/placeholder.png",style:{width:"302px",height:"300px"}},e.key),Object(p.jsxs)(d.a.Body,{children:[Object(p.jsx)(d.a.Title,{children:e.value.name}),Object(p.jsx)(d.a.Text,{children:e.value.description}),Object(p.jsx)(b.a,{variant:i?"primary":"warning",onClick:w,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"}),(null===(t=e.user)||void 0===t?void 0:t.email)?Object(p.jsx)(b.a,{style:{marginLeft:"30px"},variant:i?"warning":"primary",onClick:v,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0410\u043a\u0446\u0438\u044e"}):null]})]},e.key),Object(p.jsx)(k,{handleCloseM:function(){return m(!1)},handleShowM:v,showM:x,setShowM:m,writeNewState:e.writeNewState,value:e.value,id:e.id}),Object(p.jsx)(g,{show:u,handleClose:function(){return O(!1)},handleShow:w,value:e.value,darkM:i,writeNewState:e.writeNewState},e.key)]})},S=(a(89),a(90)),C=a(24),N=a(137),M=a(129),B=a(134),L=a(130),I=a(131),F=a(52),T=function(e){var t,a=Object(c.useState)(!1),n=Object(o.a)(a,2),r=(n[0],n[1],e.darkM),s=e.setDarkM;return Object(F.b)(e.auth,(function(t){e.setUser(t)})),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(N.a,{fixed:"top",style:{width:"100%"},expand:!1,bg:r?"light":"dark",variant:r?"light":"dark",children:Object(p.jsxs)(M.a,{fluid:!0,children:[Object(p.jsx)(N.a.Brand,{children:"DC"}),Object(p.jsx)(b.a,{variant:r?"outline-dark":"outline-light",onClick:function(){return s(!r)},children:r?Object(p.jsx)(L.a,{height:"30px",width:"25px"}):Object(p.jsx)(I.a,{height:"30px",width:"25px"})}),Object(p.jsx)(N.a.Toggle,{"aria-controls":"offcanvasNavbar"}),Object(p.jsxs)(N.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"start",style:{backgroundColor:e.darkM?"#ffffff":"#1a1e23"},children:[Object(p.jsx)(u.a.Header,{closeButton:!0,bg:"dark",children:Object(p.jsx)(u.a.Title,{id:"offcanvasNavbarLabel",style:{color:e.darkM?"#000000":"#ffffff"},children:"Dagestan Cafes"})}),Object(p.jsxs)(u.a.Body,{children:[Object(p.jsxs)(B.a,{children:[Object(p.jsx)(B.a.Link,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(p.jsx)(B.a.Link,{children:"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u0430\u043a\u0446\u0438\u0439"})]}),Object(p.jsx)(B.a,{className:"justify-content-end bottom-0 flex-grow-1 pe-3",children:(null===(t=e.user)||void 0===t?void 0:t.email)?Object(p.jsx)(b.a,{variant:"primary",onClick:e.logOut,children:"\u0412\u044b\u0439\u0442\u0438"}):Object(p.jsxs)(w.a,{style:r?{color:"#000000"}:{color:"#ffffff"},children:[Object(p.jsxs)(w.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(p.jsx)(w.a.Control,{onChange:function(t){return e.setLoginEmail(t.target.value)},type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"}),Object(p.jsx)(w.a.Text,{className:"text-muted"})]}),Object(p.jsx)(w.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(p.jsx)(w.a.Control,{onChange:function(t){return e.setLoginPassword(t.target.value)},type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0440\u043e\u043b\u044c"})}),Object(p.jsx)(b.a,{variant:"primary",onClick:e.logIn,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})]})]})})})},E=(a(122),a(132)),D=a(88),H=function(e){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(M.a,{fluid:!0,style:{width:"100%",marginTop:"70px"},children:Object(p.jsx)(E.a,{xl:"4",className:"justify-content-md-center align-content-center",children:Object.keys(e.state).map((function(t){var a=e.state[t];return a.name?Object(p.jsx)(D.a,{className:"mb-2 mt-2",children:Object(p.jsx)(y,{darkM:e.darkM,value:e.state[t],id:t,user:e.user,writeNewState:e.writeNewState},a.location_id)},a.location_id):null}))})})})},P=Object(S.a)({apiKey:"AIzaSyDNpzqmN_k3lx6-HEEMQxg1NGceQt_bQfk",authDomain:"dagecafe-278e6.firebaseapp.com",databaseURL:"https://dagecafe-278e6-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dagecafe-278e6",storageBucket:"dagecafe-278e6.appspot.com",messagingSenderId:"359918608297",appId:"1:359918608297:web:72457a6ebc0983b3afeeb8"});var _=function(){Object(c.useEffect)((function(){Y()}),[]);var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=(t[0],t[1],Object(c.useState)([])),n=Object(o.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)([]),d=Object(o.a)(i,2),b=(d[0],d[1],Object(c.useState)([])),u=Object(o.a)(b,2),O=(u[0],u[1],Object(c.useState)([])),h=Object(o.a)(O,2),f=(h[0],h[1],Object(c.useState)([[[43.038031,47.515495],[42.983307,47.39023]],[[42.983307,47.543622],[42.966015,47.397425]],[[42.966015,47.585225],[42.899349,47.506337]],[[42.91065,47.645012],[42.860864,47.594644]]])),x=Object(o.a)(f,2),m=(x[0],x[1],Object(c.useState)(!1)),g=Object(o.a)(m,2),v=g[0],w=g[1],k=Object(c.useState)(),y=Object(o.a)(k,2),S=y[0],N=y[1],M=Object(c.useState)(),B=Object(o.a)(M,2),L=B[0],I=B[1],E=Object(c.useState)(""),D=Object(o.a)(E,2),_=D[0],G=D[1],R=Object(c.useState)(""),Q=Object(o.a)(R,2),U=Q[0],z=Q[1],J=Object(c.useState)({}),q=Object(o.a)(J,2),A=q[0],K=q[1],V=Object(F.a)(P),W=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(F.c)(V,_,U);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(F.d)(V);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Y(e){var t=Object(C.b)(),a=Object(C.e)(t,"//state");Object(C.c)(a,(function(e){var t=e.val();s(t)}))}return Object(p.jsxs)("div",{style:{position:"absolute",backgroundColor:v?"#ffffff":"#000000"},children:[Object(p.jsx)(T,{readData:Y,state:r,setDarkM:w,email:S,setEmail:N,setPassword:I,password:L,darkM:v,auth:V,logIn:W,logOut:X,setLoginEmail:G,setLoginPassword:z,login:W,setUser:K,user:A}),Object(p.jsx)(H,{state:r,darkM:v,writeNewState:function(e,t){var a=Object(C.b)(),c=Object(C.d)(Object(C.a)(Object(C.e)(a),"discounts")).key,n={};return n["/state/".concat(e,"/discounts/")+c]=t,Object(C.g)(Object(C.e)(a),n)},user:A},"CafeList")]})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,139)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(_,{})}),document.getElementById("root")),G()},98:function(e,t,a){}},[[123,1,2]]]);
//# sourceMappingURL=main.0e2af49e.chunk.js.map