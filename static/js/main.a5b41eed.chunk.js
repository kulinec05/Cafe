(this.webpackJsonpcafe=this.webpackJsonpcafe||[]).push([[0],{86:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(32),s=a.n(r),i=(a(86),a(1)),l=a.n(i),j=a(5),o=a(12),d=a(75),b=a(34),u=a(108),h=a(97),O=a(98),f=a(79),x=a(106),p=a(105),m=a(99),g=a(100),v=a(50),w=a(3),k=function(e){var t,a=e.darkM,c=e.setDarkM;return Object(v.b)(e.auth,(function(t){e.setUser(t)})),Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(u.a,{fixed:"top",style:{width:"100%"},expand:!1,bg:a?"light":"dark",variant:a?"light":"dark",children:Object(w.jsxs)(h.a,{fluid:!0,children:[Object(w.jsx)(u.a.Brand,{children:"DC"}),Object(w.jsx)(O.a,{variant:a?"outline-dark":"outline-light",onClick:function(){return c(!a)},children:a?Object(w.jsx)(m.a,{height:"30px",width:"25px"}):Object(w.jsx)(g.a,{height:"30px",width:"25px"})}),Object(w.jsx)(u.a.Toggle,{"aria-controls":"offcanvasNavbar"}),Object(w.jsxs)(u.a.Offcanvas,{id:"offcanvasNavbar","aria-labelledby":"offcanvasNavbarLabel",placement:"start",style:{backgroundColor:e.darkM?"#ffffff":"#1a1e23"},children:[Object(w.jsx)(f.a.Header,{closeButton:!0,bg:"dark",children:Object(w.jsx)(f.a.Title,{id:"offcanvasNavbarLabel",style:{color:e.darkM?"#000000":"#ffffff"},children:"Dagestan Cafes"})}),Object(w.jsxs)(f.a.Body,{children:[Object(w.jsxs)(x.a,{children:[Object(w.jsx)(x.a.Link,{children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(w.jsx)(x.a.Link,{children:"\u0413\u043e\u0440\u044f\u0447\u0438\u0435 \u0430\u043a\u0446\u0438\u0439"})]}),Object(w.jsx)(x.a,{className:"justify-content-end bottom-0 flex-grow-1 pe-3",children:(null===(t=e.user)||void 0===t?void 0:t.email)?Object(w.jsx)(O.a,{variant:"primary",onClick:e.logOut,children:"\u0412\u044b\u0439\u0442\u0438"}):Object(w.jsxs)(p.a,{style:a?{color:"#000000"}:{color:"#ffffff"},children:[Object(w.jsxs)(p.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(w.jsx)(p.a.Control,{onChange:function(t){return e.setLoginEmail(t.target.value)},type:"email",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 email"}),Object(w.jsx)(p.a.Text,{className:"text-muted"})]}),Object(w.jsx)(p.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:Object(w.jsx)(p.a.Control,{onChange:function(t){return e.setLoginPassword(t.target.value)},type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0440\u043e\u043b\u044c"})}),Object(w.jsx)(O.a,{variant:"primary",onClick:e.logIn,children:"\u0412\u043e\u0439\u0442\u0438"})]})})]})]})]})})})},y=(a(94),a(110)),C=a(76),S=a(102),N=a(103),M=a(109),B=a(101),L=function(e){var t=Object(c.useState)(0),a=Object(o.a)(t,2),n=a[0],r=a[1],s=e.value;return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(M.a,{activeIndex:n,onSelect:function(e,t){r(e)},variant:e.darkM?"dark":null,children:Object.values(s).map((function(e){return Object(w.jsxs)(M.a.Item,{children:[Object(w.jsx)("img",{className:"d-block w-100",src:e.img,alt:"First slide"}),Object(w.jsx)(M.a.Caption,{children:Object(w.jsx)(y.a,{style:{backgroundColor:"#1c1c1cb5",color:"#ffffff"},children:Object(w.jsxs)(y.a.Body,{children:[Object(w.jsx)(y.a.Title,{children:e.name}),Object(w.jsx)(y.a.Text,{children:e.description}),Object(w.jsx)(B.a,{children:e.date})]})})})]})}))})})},I=function(e){var t=e.darkM,a=e.value;return Object(w.jsx)("div",{children:Object(w.jsxs)(f.a,{show:e.show,onHide:e.handleClose,placement:"end",style:{color:e.darkM?"#000000":"#ffffff",backgroundColor:e.darkM?"#ffffff":"#1a1e23"},children:[Object(w.jsxs)(f.a.Header,{children:[Object(w.jsx)(f.a.Title,{children:"\u0411\u043e\u043b\u044c\u0448\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438"}),Object(w.jsx)(C.a,{variant:t?"dark":"white",onClick:e.handleClose})]}),Object(w.jsx)(f.a.Body,{children:Object(w.jsx)("h2",{children:a.name})}),Object(w.jsxs)(f.a.Body,{children:[a.phone?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(O.a,{variant:"primary",type:"tel",href:"tel:"+a.phone,children:[Object(w.jsx)(S.a,{})," ",a.phone," "]}),Object(w.jsx)(O.a,{className:"m-3",variant:"success",type:"tel",href:"https://wa.me/"+a.phone.replace(/[^0-9]/g,""),target:"_blank",children:Object(w.jsx)(N.a,{})})]}):null,a.address?Object(w.jsx)(O.a,{variant:t?"primary":"warning",href:"https://yandex.ru/maps/?text="+a.address,bg:"secondary",target:"_blank",children:a.address}):null]}),Object(w.jsx)(f.a.Body,{}),Object(w.jsxs)(f.a.Body,{children:["\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0441\u0440\u0435\u0434\u0438 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u043e\u0432 : ",a.ranking]}),Object(w.jsxs)(f.a.Body,{children:[Object(w.jsx)("div",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f:"}),Object(w.jsx)("div",{children:a.description||null})]}),Object(w.jsxs)(f.a.Body,{style:{height:"35%"},children:[Object(w.jsx)("div",{children:"\u0410\u043a\u0446\u0438\u0438 \u0437\u0430\u0432\u0435\u0434\u0435\u043d\u0438\u044f:"}),a.discounts?Object(w.jsx)(L,{darkM:t,value:a.discounts,writeNewState:e.writeNewState}):null]})]})})},F=a(107),T=function(e){var t=Object(c.useState)({}),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),j=l[0],d=l[1],b=n.a.createRef(),u=n.a.createRef(),h=n.a.createRef(),f=n.a.createRef();Object(c.useEffect)((function(){j&&(e.writeNewState(e.id,r),d(!1))}),[r]);return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(F.a,{show:e.showM,onHide:e.handleCloseM,children:[Object(w.jsx)(F.a.Header,{closeButton:!0,children:Object(w.jsx)(F.a.Title,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0410\u043a\u0446\u0438\u044e"})}),Object(w.jsx)(F.a.Body,{children:Object(w.jsxs)(p.a,{children:[Object(w.jsxs)(p.a.Group,{className:"mb-3",children:[Object(w.jsx)(p.a.Label,{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"}),Object(w.jsx)(p.a.Control,{ref:b,placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438"}),Object(w.jsx)(p.a.Label,{children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0430\u043a\u0446\u0438\u0438"}),Object(w.jsx)(p.a.Control,{ref:u,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"}),Object(w.jsx)(p.a.Label,{children:"\u0421\u0440\u043e\u043a\u0438 \u0430\u043a\u0446\u0438\u0438"}),Object(w.jsx)(p.a.Control,{ref:h,placeholder:"\u0421\u0440\u043e\u043a\u0438 \u0430\u043a\u0446\u0438\u0438"})]}),Object(w.jsxs)(p.a.Group,{className:"mb-3",children:[Object(w.jsx)(p.a.Label,{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),Object(w.jsx)(p.a.Control,{ref:f,as:"textarea",rows:3})]})]})}),Object(w.jsx)(F.a.Footer,{children:Object(w.jsx)(O.a,{onClick:function(){e.handleCloseM(),function(){var e={name:b.current.value,img:u.current.value,date:h.current.value,description:f.current.value};s(e)}(),d(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})})},E=function(e){var t,a=e.darkM,n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)(!1),j=Object(o.a)(l,2),d=j[0],b=j[1],u=function(){return b(!0)},h=function(){return i(!0)};return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(y.a,{style:{width:"19rem",margin:"auto"},bg:a?"light":"dark",text:a?"dark":"white",children:[Object(w.jsx)(y.a.Img,{variant:"top",src:e.value.photo?e.value.photo.images.medium.url:"https://\u0441\u0435\u0440\u0435\u0431\u0440\u043e.\u0440\u0444/img/placeholder.png",style:{width:"302px",height:"300px"}},e.key),Object(w.jsxs)(y.a.Body,{children:[Object(w.jsx)(y.a.Title,{children:e.value.name}),Object(w.jsx)(y.a.Text,{children:e.value.description}),Object(w.jsx)(O.a,{variant:a?"primary":"warning",onClick:h,children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438"}),(null===(t=e.user)||void 0===t?void 0:t.email)?Object(w.jsx)(O.a,{style:{marginLeft:"30px"},variant:a?"warning":"primary",onClick:u,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0410\u043a\u0446\u0438\u044e"}):null]})]},e.key),Object(w.jsx)(T,{handleCloseM:function(){return b(!1)},handleShowM:u,showM:d,setShowM:b,writeNewState:e.writeNewState,value:e.value,id:e.id}),Object(w.jsx)(I,{show:s,handleClose:function(){return i(!1)},handleShow:h,value:e.value,darkM:a,writeNewState:e.writeNewState},e.key)]})},D=a(104),H=a(78),P=function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(h.a,{fluid:!0,style:{width:"100%",marginTop:"70px"},children:Object(w.jsx)(D.a,{xl:"4",className:"justify-content-md-center align-content-center",children:Object.keys(e.state).map((function(t){var a=e.state[t];return a.name?Object(w.jsx)(H.a,{className:"mb-2 mt-2",children:Object(w.jsx)(E,{darkM:e.darkM,value:e.state[t],id:t,user:e.user,writeNewState:e.writeNewState},a.location_id)},a.location_id):null}))})})})},_=Object(d.a)({apiKey:"AIzaSyDNpzqmN_k3lx6-HEEMQxg1NGceQt_bQfk",authDomain:"dagecafe-278e6.firebaseapp.com",databaseURL:"https://dagecafe-278e6-default-rtdb.europe-west1.firebasedatabase.app",projectId:"dagecafe-278e6",storageBucket:"dagecafe-278e6.appspot.com",messagingSenderId:"359918608297",appId:"1:359918608297:web:72457a6ebc0983b3afeeb8"}),G=function(){Object(c.useEffect)((function(){Q()}),[]);var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(!1),s=Object(o.a)(r,2),i=s[0],d=s[1],u=Object(c.useState)(),h=Object(o.a)(u,2),O=h[0],f=h[1],x=Object(c.useState)(),p=Object(o.a)(x,2),m=p[0],g=p[1],y=Object(c.useState)(""),C=Object(o.a)(y,2),S=C[0],N=C[1],M=Object(c.useState)(""),B=Object(o.a)(M,2),L=B[0],I=B[1],F=Object(c.useState)({}),T=Object(o.a)(F,2),E=T[0],D=T[1],H=Object(v.a)(_),G=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(H,S,L);case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(H);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Q(e){var t=Object(b.b)(),a=Object(b.e)(t,"//state");Object(b.c)(a,(function(e){var t=e.val();n(t)}))}return Object(w.jsxs)("div",{style:{position:"absolute",backgroundColor:i?"#ffffff":"#000000"},children:[Object(w.jsx)(k,{readData:Q,state:a,setDarkM:d,email:O,setEmail:f,setPassword:g,password:m,darkM:i,auth:H,logIn:G,logOut:R,setLoginEmail:N,setLoginPassword:I,login:G,setUser:D,user:E}),Object(w.jsx)(P,{state:a,darkM:i,writeNewState:function(e,t){var a=Object(b.b)(),c=Object(b.d)(Object(b.a)(Object(b.e)(a),"discounts")).key,n={};return n["/state/".concat(e,"/discounts/")+c]=t,Object(b.f)(Object(b.e)(a),n)},user:E},"CafeList")]})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,111)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(n.a.StrictMode,{children:Object(w.jsx)(G,{})}),document.getElementById("root")),R()}},[[95,1,2]]]);
//# sourceMappingURL=main.a5b41eed.chunk.js.map